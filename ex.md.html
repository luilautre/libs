<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Visionneuse Markdown</title>
  <style>
    .md { border: 1px solid #ccc; padding: 5px; margin: 5px 0; }
  </style>
</head>
<body>

<div class="md">
# Titre 1
Du **Markdown** ici.
</div>

<div class="md">
# Titre 2
Encore du **Markdown** ici.
</div>

<div id="output-container"></div>

<script src="markdown-it.min.js"></script>
<script>
  const md = window.markdownit();

  // récupérer tous les éléments avec la classe "md"
  const mdElements = document.getElementsByClassName("md");
  const outputContainer = document.getElementById("output-container");

  function renderAll() {
    outputContainer.innerHTML = ""; // vide le container

    for (let i = 0; i < mdElements.length; i++) {
      // récupérer le texte original
      let content = mdElements[i].textContent;

      // ajouter 3 lignes supplémentaires
      content += "\n\n- Ligne supplémentaire 1\n- Ligne supplémentaire 2\n- Ligne supplémentaire 3";

      // créer un div pour afficher le rendu Markdown
      const div = document.createElement("div");
      div.innerHTML = md.render(content);
      div.style.border = "1px solid #ccc";
      div.style.padding = "5px";
      div.style.margin = "5px 0";

      outputContainer.appendChild(div);
    }
  }

  // rendu initial
  renderAll();
</script>

</body>
</html>
